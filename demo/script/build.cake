
#tool "dotnet:?package=grate"
#r "..\..\src\Cake.grate\bin\Debug\net6.0\Cake.grate.dll"

///////////////////////////////////////////////////////////////////////////////
// ARGUMENTS
///////////////////////////////////////////////////////////////////////////////

var target = Argument("target", "Default");

///////////////////////////////////////////////////////////////////////////////
// TASKS
///////////////////////////////////////////////////////////////////////////////

Task("Core-Functions")
.Does(() => 
{
   GrateMigrate(new GrateSettings()
   {
      ConnectionString = "Server=(local)\\sql2022;Database=grate-core-functions;Trusted_Connection=True;TrustServerCertificate=true;"
   });
});


Task("Default")
   .IsDependentOn("Core-Functions");

RunTarget(target);
